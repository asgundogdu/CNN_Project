import tensorflow as tf # Default graph is initialized when the library is imported
import os
from tensorflow.python.platform import gfile
from PIL import Image
import numpy as np
import scipy
from scipy import misc

files = ['1005_automobile.png',
 '1006_automobile.png',
 '1013_automobile.png',
 '1016_automobile.png',
 '1020_automobile.png',
 '1021_automobile.png',
 '1047_automobile.png',
 '1048_automobile.png',
 '104_automobile.png',
 '1054_automobile.png',
 '105_automobile.png',
 '1061_automobile.png',
 '1098_automobile.png',
 '1115_automobile.png',
 '1131_automobile.png',
 '1134_automobile.png',
 '1141_automobile.png',
 '1144_automobile.png',
 '114_automobile.png',
 '1156_automobile.png',
 '1158_automobile.png',
 '1174_automobile.png',
 '1176_automobile.png',
 '1182_automobile.png',
 '1185_automobile.png',
 '1187_automobile.png',
 '1190_automobile.png',
 '1191_automobile.png',
 '1206_automobile.png',
 '1212_automobile.png',
 '1229_automobile.png',
 '122_automobile.png',
 '1232_automobile.png',
 '1234_automobile.png',
 '1238_automobile.png',
 '1258_automobile.png',
 '1260_automobile.png',
 '1270_automobile.png',
 '1288_automobile.png',
 '1301_automobile.png',
 '1306_automobile.png',
 '1313_automobile.png',
 '131_automobile.png',
 '1332_automobile.png',
 '1335_automobile.png',
 '1340_automobile.png',
 '134_automobile.png',
 '1354_automobile.png',
 '1363_automobile.png',
 '1371_automobile.png',
 '1372_automobile.png',
 '1378_automobile.png',
 '1396_automobile.png',
 '1404_automobile.png',
 '1405_automobile.png',
 '1408_automobile.png',
 '1410_automobile.png',
 '1412_automobile.png',
 '1413_automobile.png',
 '1414_automobile.png',
 '1435_automobile.png',
 '1437_automobile.png',
 '1444_automobile.png',
 '1457_automobile.png',
 '1458_automobile.png',
 '1464_automobile.png',
 '1467_automobile.png',
 '1480_automobile.png',
 '1493_automobile.png',
 '1500_automobile.png',
 '1504_automobile.png',
 '1509_automobile.png',
 '1511_automobile.png',
 '1517_automobile.png',
 '1545_automobile.png',
 '1549_automobile.png',
 '1564_automobile.png',
 '1569_automobile.png',
 '1583_automobile.png',
 '1591_automobile.png',
 '1604_automobile.png',
 '1614_automobile.png',
 '161_automobile.png',
 '1621_automobile.png',
 '1631_automobile.png',
 '1633_automobile.png',
 '1677_automobile.png',
 '1684_automobile.png',
 '1706_automobile.png',
 '1711_automobile.png',
 '1716_automobile.png',
 '1740_automobile.png',
 '1743_automobile.png',
 '1747_automobile.png',
 '1751_automobile.png',
 '1761_automobile.png',
 '1769_automobile.png',
 '1784_automobile.png',
 '1786_automobile.png',
 '1797_automobile.png',
 '1806_automobile.png',
 '1810_automobile.png',
 '1811_automobile.png',
 '1829_automobile.png',
 '1850_automobile.png',
 '1880_automobile.png',
 '1882_automobile.png',
 '1904_automobile.png',
 '1907_automobile.png',
 '1923_automobile.png',
 '1925_automobile.png',
 '1930_automobile.png',
 '1937_automobile.png',
 '193_automobile.png',
 '1969_automobile.png',
 '1970_automobile.png',
 '1991_automobile.png',
 '2000_automobile.png',
 '2009_automobile.png',
 '201_automobile.png',
 '2031_automobile.png',
 '2042_automobile.png',
 '2045_automobile.png',
 '204_automobile.png',
 '2063_automobile.png',
 '2080_automobile.png',
 '2086_automobile.png',
 '2092_automobile.png',
 '2099_automobile.png',
 '2103_automobile.png',
 '2112_automobile.png',
 '2125_automobile.png',
 '2142_automobile.png',
 '2164_automobile.png',
 '2176_automobile.png',
 '2179_automobile.png',
 '2206_automobile.png',
 '2220_automobile.png',
 '2224_automobile.png',
 '2238_automobile.png',
 '2255_automobile.png',
 '2258_automobile.png',
 '2274_automobile.png',
 '2289_automobile.png',
 '2294_automobile.png',
 '2308_automobile.png',
 '231_automobile.png',
 '2327_automobile.png',
 '2334_automobile.png',
 '2345_automobile.png',
 '2346_automobile.png',
 '2351_automobile.png',
 '2357_automobile.png',
 '2369_automobile.png',
 '2378_automobile.png',
 '2390_automobile.png',
 '2393_automobile.png',
 '2396_automobile.png',
 '240_automobile.png',
 '241_automobile.png',
 '2438_automobile.png',
 '2439_automobile.png',
 '2450_automobile.png',
 '2454_automobile.png',
 '2462_automobile.png',
 '246_automobile.png',
 '2477_automobile.png',
 '2484_automobile.png',
 '2504_automobile.png',
 '2520_automobile.png',
 '2522_automobile.png',
 '2537_automobile.png',
 '2541_automobile.png',
 '2601_automobile.png',
 '2607_automobile.png',
 '2616_automobile.png',
 '261_automobile.png',
 '2620_automobile.png',
 '2634_automobile.png',
 '2636_automobile.png',
 '2645_automobile.png',
 '2647_automobile.png',
 '2665_automobile.png',
 '2667_automobile.png',
 '2694_automobile.png',
 '2701_automobile.png',
 '2712_automobile.png',
 '2740_automobile.png',
 '2748_automobile.png',
 '2757_automobile.png',
 '2758_automobile.png',
 '2764_automobile.png',
 '2773_automobile.png',
 '2784_automobile.png',
 '2813_automobile.png',
 '2814_automobile.png',
 '2819_automobile.png',
 '2838_automobile.png',
 '283_automobile.png',
 '2843_automobile.png',
 '2859_automobile.png',
 '286_automobile.png',
 '2872_automobile.png',
 '2875_automobile.png',
 '2906_automobile.png',
 '290_automobile.png',
 '2911_automobile.png',
 '2916_automobile.png',
 '2924_automobile.png',
 '2928_automobile.png',
 '2929_automobile.png',
 '2943_automobile.png',
 '2947_automobile.png',
 '2950_automobile.png',
 '2986_automobile.png',
 '2987_automobile.png',
 '3001_automobile.png',
 '3012_automobile.png',
 '3020_automobile.png',
 '3027_automobile.png',
 '3028_automobile.png',
 '3029_automobile.png',
 '3033_automobile.png',
 '3039_automobile.png',
 '3058_automobile.png',
 '305_automobile.png',
 '3064_automobile.png',
 '3066_automobile.png',
 '3074_automobile.png',
 '3077_automobile.png',
 '3080_automobile.png',
 '308_automobile.png',
 '3091_automobile.png',
 '3105_automobile.png',
 '3122_automobile.png',
 '3144_automobile.png',
 '3149_automobile.png',
 '3150_automobile.png',
 '3152_automobile.png',
 '3153_automobile.png',
 '3162_automobile.png',
 '3165_automobile.png',
 '3175_automobile.png',
 '3215_automobile.png',
 '3239_automobile.png',
 '3246_automobile.png',
 '325_automobile.png',
 '3263_automobile.png',
 '3274_automobile.png',
 '3285_automobile.png',
 '3293_automobile.png',
 '330_automobile.png',
 '3341_automobile.png',
 '3348_automobile.png',
 '3351_automobile.png',
 '3362_automobile.png',
 '3370_automobile.png',
 '3372_automobile.png',
 '3389_automobile.png',
 '3392_automobile.png',
 '3394_automobile.png',
 '3407_automobile.png',
 '3418_automobile.png',
 '3449_automobile.png',
 '3460_automobile.png',
 '3471_automobile.png',
 '3485_automobile.png',
 '3488_automobile.png',
 '3500_automobile.png',
 '3517_automobile.png',
 '351_automobile.png',
 '3520_automobile.png',
 '3527_automobile.png',
 '3528_automobile.png',
 '3544_automobile.png',
 '3549_automobile.png',
 '3553_automobile.png',
 '3554_automobile.png',
 '3560_automobile.png',
 '3565_automobile.png',
 '3579_automobile.png',
 '3583_automobile.png',
 '3611_automobile.png',
 '3612_automobile.png',
 '3619_automobile.png',
 '3629_automobile.png',
 '3632_automobile.png',
 '363_automobile.png',
 '3642_automobile.png',
 '3645_automobile.png',
 '3647_automobile.png',
 '3661_automobile.png',
 '3663_automobile.png',
 '366_automobile.png',
 '3678_automobile.png',
 '3691_automobile.png',
 '369_automobile.png',
 '3701_automobile.png',
 '3702_automobile.png',
 '3715_automobile.png',
 '3723_automobile.png',
 '3730_automobile.png',
 '3745_automobile.png',
 '3762_automobile.png',
 '3764_automobile.png',
 '3768_automobile.png',
 '3772_automobile.png',
 '3794_automobile.png',
 '37_automobile.png',
 '3814_automobile.png',
 '3826_automobile.png',
 '3828_automobile.png',
 '3838_automobile.png',
 '3855_automobile.png',
 '3857_automobile.png',
 '3882_automobile.png',
 '3891_automobile.png',
 '3895_automobile.png',
 '3898_automobile.png',
 '3904_automobile.png',
 '390_automobile.png',
 '3921_automobile.png',
 '3925_automobile.png',
 '3930_automobile.png',
 '3942_automobile.png',
 '3948_automobile.png',
 '3951_automobile.png',
 '3963_automobile.png',
 '3976_automobile.png',
 '3987_automobile.png',
 '3988_automobile.png',
 '4013_automobile.png',
 '4015_automobile.png',
 '4025_automobile.png',
 '4030_automobile.png',
 '4055_automobile.png',
 '4059_automobile.png',
 '4067_automobile.png',
 '407_automobile.png',
 '4080_automobile.png',
 '4128_automobile.png',
 '4129_automobile.png',
 '4131_automobile.png',
 '4134_automobile.png',
 '4135_automobile.png',
 '4144_automobile.png',
 '414_automobile.png',
 '4164_automobile.png',
 '4166_automobile.png',
 '4170_automobile.png',
 '4189_automobile.png',
 '4201_automobile.png',
 '4206_automobile.png',
 '4207_automobile.png',
 '4212_automobile.png',
 '4215_automobile.png',
 '4236_automobile.png',
 '4237_automobile.png',
 '4245_automobile.png',
 '4250_automobile.png',
 '4271_automobile.png',
 '4274_automobile.png',
 '4278_automobile.png',
 '4285_automobile.png',
 '4288_automobile.png',
 '4292_automobile.png',
 '4314_automobile.png',
 '4318_automobile.png',
 '4320_automobile.png',
 '4327_automobile.png',
 '4337_automobile.png',
 '4341_automobile.png',
 '4371_automobile.png',
 '4372_automobile.png',
 '4378_automobile.png',
 '4379_automobile.png',
 '439_automobile.png',
 '4401_automobile.png',
 '440_automobile.png',
 '4424_automobile.png',
 '4425_automobile.png',
 '4430_automobile.png',
 '4431_automobile.png',
 '4437_automobile.png',
 '4441_automobile.png',
 '4466_automobile.png',
 '4475_automobile.png',
 '4476_automobile.png',
 '4478_automobile.png',
 '4506_automobile.png',
 '4516_automobile.png',
 '4531_automobile.png',
 '4532_automobile.png',
 '4543_automobile.png',
 '4549_automobile.png',
 '4560_automobile.png',
 '4594_automobile.png',
 '4598_automobile.png',
 '4602_automobile.png',
 '4607_automobile.png',
 '4611_automobile.png',
 '4613_automobile.png',
 '462_automobile.png',
 '4633_automobile.png',
 '4647_automobile.png',
 '4658_automobile.png',
 '4663_automobile.png',
 '4684_automobile.png',
 '4689_automobile.png',
 '4713_automobile.png',
 '4721_automobile.png',
 '4736_automobile.png',
 '4741_automobile.png',
 '4752_automobile.png',
 '4755_automobile.png',
 '4762_automobile.png',
 '4766_automobile.png',
 '4773_automobile.png',
 '4790_automobile.png',
 '4799_automobile.png',
 '4806_automobile.png',
 '4822_automobile.png',
 '4831_automobile.png',
 '4838_automobile.png',
 '4841_automobile.png',
 '4843_automobile.png',
 '4848_automobile.png',
 '4850_automobile.png',
 '4855_automobile.png',
 '4863_automobile.png',
 '4875_automobile.png',
 '4890_automobile.png',
 '4893_automobile.png',
 '4895_automobile.png',
 '4897_automobile.png',
 '490_automobile.png',
 '4912_automobile.png',
 '4913_automobile.png',
 '4927_automobile.png',
 '4930_automobile.png',
 '493_automobile.png',
 '4948_automobile.png',
 '4949_automobile.png',
 '494_automobile.png',
 '4954_automobile.png',
 '4969_automobile.png',
 '4973_automobile.png',
 '4978_automobile.png',
 '4980_automobile.png',
 '4981_automobile.png',
 '4992_automobile.png',
 '4999_automobile.png',
 '5019_automobile.png',
 '5024_automobile.png',
 '5048_automobile.png',
 '5051_automobile.png',
 '5056_automobile.png',
 '5058_automobile.png',
 '5061_automobile.png',
 '5071_automobile.png',
 '5079_automobile.png',
 '5090_automobile.png',
 '5108_automobile.png',
 '5125_automobile.png',
 '5127_automobile.png',
 '5132_automobile.png',
 '5135_automobile.png',
 '513_automobile.png',
 '5181_automobile.png',
 '5182_automobile.png',
 '5201_automobile.png',
 '5214_automobile.png',
 '5217_automobile.png',
 '5226_automobile.png',
 '5233_automobile.png',
 '5235_automobile.png',
 '5240_automobile.png',
 '5243_automobile.png',
 '5245_automobile.png',
 '5270_automobile.png',
 '5285_automobile.png',
 '5307_automobile.png',
 '5318_automobile.png',
 '5321_automobile.png',
 '5323_automobile.png',
 '5347_automobile.png',
 '5348_automobile.png',
 '5353_automobile.png',
 '5358_automobile.png',
 '5366_automobile.png',
 '5375_automobile.png',
 '5378_automobile.png',
 '5380_automobile.png',
 '5386_automobile.png',
 '5390_automobile.png',
 '5394_automobile.png',
 '5396_automobile.png',
 '5409_automobile.png',
 '540_automobile.png',
 '5422_automobile.png',
 '5431_automobile.png',
 '5439_automobile.png',
 '5449_automobile.png',
 '5456_automobile.png',
 '546_automobile.png',
 '5470_automobile.png',
 '5472_automobile.png',
 '5474_automobile.png',
 '5480_automobile.png',
 '5483_automobile.png',
 '5517_automobile.png',
 '5563_automobile.png',
 '5566_automobile.png',
 '5572_automobile.png',
 '5598_automobile.png',
 '5604_automobile.png',
 '5622_automobile.png',
 '5624_automobile.png',
 '5667_automobile.png',
 '5678_automobile.png',
 '5685_automobile.png',
 '5697_automobile.png',
 '5718_automobile.png',
 '5723_automobile.png',
 '5726_automobile.png',
 '572_automobile.png',
 '5741_automobile.png',
 '5783_automobile.png',
 '5799_automobile.png',
 '5803_automobile.png',
 '5805_automobile.png',
 '5851_automobile.png',
 '5861_automobile.png',
 '5875_automobile.png',
 '5882_automobile.png',
 '5887_automobile.png',
 '5899_automobile.png',
 '5905_automobile.png',
 '5909_automobile.png',
 '5914_automobile.png',
 '5918_automobile.png',
 '5937_automobile.png',
 '594_automobile.png',
 '5970_automobile.png',
 '5971_automobile.png',
 '6010_automobile.png',
 '6048_automobile.png',
 '604_automobile.png',
 '6058_automobile.png',
 '6080_automobile.png',
 '6084_automobile.png',
 '6086_automobile.png',
 '6090_automobile.png',
 '6100_automobile.png',
 '6104_automobile.png',
 '6117_automobile.png',
 '6119_automobile.png',
 '6130_automobile.png',
 '6150_automobile.png',
 '6159_automobile.png',
 '6166_automobile.png',
 '6172_automobile.png',
 '6173_automobile.png',
 '6182_automobile.png',
 '6184_automobile.png',
 '6194_automobile.png',
 '6195_automobile.png',
 '619_automobile.png',
 '6205_automobile.png',
 '622_automobile.png',
 '6236_automobile.png',
 '6251_automobile.png',
 '6273_automobile.png',
 '6279_automobile.png',
 '6281_automobile.png',
 '629_automobile.png',
 '6300_automobile.png',
 '6301_automobile.png',
 '6329_automobile.png',
 '6371_automobile.png',
 '6372_automobile.png',
 '6399_automobile.png',
 '6405_automobile.png',
 '6410_automobile.png',
 '6415_automobile.png',
 '6417_automobile.png',
 '6426_automobile.png',
 '6430_automobile.png',
 '6431_automobile.png',
 '6445_automobile.png',
 '6451_automobile.png',
 '645_automobile.png',
 '6464_automobile.png',
 '6470_automobile.png',
 '6472_automobile.png',
 '6492_automobile.png',
 '6493_automobile.png',
 '6536_automobile.png',
 '6550_automobile.png',
 '6552_automobile.png',
 '6555_automobile.png',
 '6566_automobile.png',
 '656_automobile.png',
 '6577_automobile.png',
 '657_automobile.png',
 '6580_automobile.png',
 '6581_automobile.png',
 '6585_automobile.png',
 '6597_automobile.png',
 '659_automobile.png',
 '6638_automobile.png',
 '6639_automobile.png',
 '6643_automobile.png',
 '6655_automobile.png',
 '6659_automobile.png',
 '6685_automobile.png',
 '6688_automobile.png',
 '668_automobile.png',
 '66_automobile.png',
 '6701_automobile.png',
 '6704_automobile.png',
 '6714_automobile.png',
 '6728_automobile.png',
 '6742_automobile.png',
 '6759_automobile.png',
 '6767_automobile.png',
 '6770_automobile.png',
 '677_automobile.png',
 '6788_automobile.png',
 '6789_automobile.png',
 '6805_automobile.png',
 '6806_automobile.png',
 '6816_automobile.png',
 '6817_automobile.png',
 '6820_automobile.png',
 '6830_automobile.png',
 '6832_automobile.png',
 '6834_automobile.png',
 '6838_automobile.png',
 '6841_automobile.png',
 '6843_automobile.png',
 '6858_automobile.png',
 '6879_automobile.png',
 '6886_automobile.png',
 '6906_automobile.png',
 '6915_automobile.png',
 '6940_automobile.png',
 '6972_automobile.png',
 '6982_automobile.png',
 '6984_automobile.png',
 '6991_automobile.png',
 '6995_automobile.png',
 '6_automobile.png',
 '7001_automobile.png',
 '7005_automobile.png',
 '7008_automobile.png',
 '7013_automobile.png',
 '7017_automobile.png',
 '7021_automobile.png',
 '7035_automobile.png',
 '7052_automobile.png',
 '7053_automobile.png',
 '7063_automobile.png',
 '7071_automobile.png',
 '7098_automobile.png',
 '7114_automobile.png',
 '7129_automobile.png',
 '7133_automobile.png',
 '7136_automobile.png',
 '7151_automobile.png',
 '7156_automobile.png',
 '7166_automobile.png',
 '7169_automobile.png',
 '7173_automobile.png',
 '7199_automobile.png',
 '7208_automobile.png',
 '7215_automobile.png',
 '7225_automobile.png',
 '7236_automobile.png',
 '723_automobile.png',
 '7243_automobile.png',
 '7260_automobile.png',
 '726_automobile.png',
 '7272_automobile.png',
 '7274_automobile.png',
 '7276_automobile.png',
 '7280_automobile.png',
 '7282_automobile.png',
 '7285_automobile.png',
 '7309_automobile.png',
 '7311_automobile.png',
 '7316_automobile.png',
 '7324_automobile.png',
 '7329_automobile.png',
 '7359_automobile.png',
 '7363_automobile.png',
 '736_automobile.png',
 '7376_automobile.png',
 '7387_automobile.png',
 '738_automobile.png',
 '7394_automobile.png',
 '7413_automobile.png',
 '7416_automobile.png',
 '7450_automobile.png',
 '7455_automobile.png',
 '7472_automobile.png',
 '7473_automobile.png',
 '7480_automobile.png',
 '7483_automobile.png',
 '7484_automobile.png',
 '7486_automobile.png',
 '7487_automobile.png',
 '7516_automobile.png',
 '7532_automobile.png',
 '7535_automobile.png',
 '753_automobile.png',
 '7555_automobile.png',
 '7565_automobile.png',
 '7570_automobile.png',
 '7572_automobile.png',
 '7573_automobile.png',
 '7577_automobile.png',
 '7583_automobile.png',
 '7584_automobile.png',
 '7595_automobile.png',
 '759_automobile.png',
 '7604_automobile.png',
 '7623_automobile.png',
 '7626_automobile.png',
 '7631_automobile.png',
 '7634_automobile.png',
 '7638_automobile.png',
 '764_automobile.png',
 '7656_automobile.png',
 '7674_automobile.png',
 '7704_automobile.png',
 '7715_automobile.png',
 '771_automobile.png',
 '7728_automobile.png',
 '7731_automobile.png',
 '7734_automobile.png',
 '7749_automobile.png',
 '7759_automobile.png',
 '7819_automobile.png',
 '781_automobile.png',
 '7840_automobile.png',
 '7862_automobile.png',
 '7864_automobile.png',
 '7873_automobile.png',
 '7876_automobile.png',
 '7878_automobile.png',
 '7889_automobile.png',
 '7892_automobile.png',
 '7893_automobile.png',
 '7894_automobile.png',
 '7898_automobile.png',
 '7901_automobile.png',
 '7903_automobile.png',
 '7904_automobile.png',
 '7909_automobile.png',
 '7936_automobile.png',
 '7937_automobile.png',
 '7943_automobile.png',
 '7946_automobile.png',
 '7948_automobile.png',
 '7953_automobile.png',
 '7964_automobile.png',
 '796_automobile.png',
 '7973_automobile.png',
 '7986_automobile.png',
 '7997_automobile.png',
 '8001_automobile.png',
 '8005_automobile.png',
 '801_automobile.png',
 '8021_automobile.png',
 '8028_automobile.png',
 '8032_automobile.png',
 '8035_automobile.png',
 '8037_automobile.png',
 '8039_automobile.png',
 '8049_automobile.png',
 '8053_automobile.png',
 '8056_automobile.png',
 '8094_automobile.png',
 '8097_automobile.png',
 '8098_automobile.png',
 '8107_automobile.png',
 '8123_automobile.png',
 '8138_automobile.png',
 '8139_automobile.png',
 '8155_automobile.png',
 '8157_automobile.png',
 '8165_automobile.png',
 '8194_automobile.png',
 '81_automobile.png',
 '8214_automobile.png',
 '8215_automobile.png',
 '8222_automobile.png',
 '8238_automobile.png',
 '8248_automobile.png',
 '8249_automobile.png',
 '8260_automobile.png',
 '8261_automobile.png',
 '8282_automobile.png',
 '8283_automobile.png',
 '8297_automobile.png',
 '82_automobile.png',
 '8304_automobile.png',
 '830_automobile.png',
 '8333_automobile.png',
 '8342_automobile.png',
 '8347_automobile.png',
 '8356_automobile.png',
 '8366_automobile.png',
 '836_automobile.png',
 '8372_automobile.png',
 '8388_automobile.png',
 '8389_automobile.png',
 '8390_automobile.png',
 '8391_automobile.png',
 '8395_automobile.png',
 '8417_automobile.png',
 '8438_automobile.png',
 '8445_automobile.png',
 '8449_automobile.png',
 '844_automobile.png',
 '8455_automobile.png',
 '8463_automobile.png',
 '8482_automobile.png',
 '8489_automobile.png',
 '8494_automobile.png',
 '8495_automobile.png',
 '8498_automobile.png',
 '8502_automobile.png',
 '8503_automobile.png',
 '8504_automobile.png',
 '8508_automobile.png',
 '8517_automobile.png',
 '8522_automobile.png',
 '8527_automobile.png',
 '8536_automobile.png',
 '8549_automobile.png',
 '8550_automobile.png',
 '8559_automobile.png',
 '8564_automobile.png',
 '8579_automobile.png',
 '8584_automobile.png',
 '8593_automobile.png',
 '8595_automobile.png',
 '8596_automobile.png',
 '8603_automobile.png',
 '8606_automobile.png',
 '8621_automobile.png',
 '8623_automobile.png',
 '8626_automobile.png',
 '8640_automobile.png',
 '8645_automobile.png',
 '8648_automobile.png',
 '865_automobile.png',
 '8663_automobile.png',
 '8674_automobile.png',
 '8678_automobile.png',
 '869_automobile.png',
 '8709_automobile.png',
 '8712_automobile.png',
 '871_automobile.png',
 '8741_automobile.png',
 '8744_automobile.png',
 '8751_automobile.png',
 '8764_automobile.png',
 '8772_automobile.png',
 '8775_automobile.png',
 '8799_automobile.png',
 '8811_automobile.png',
 '8813_automobile.png',
 '8837_automobile.png',
 '8839_automobile.png',
 '8850_automobile.png',
 '8866_automobile.png',
 '887_automobile.png',
 '8880_automobile.png',
 '8907_automobile.png',
 '8910_automobile.png',
 '8938_automobile.png',
 '8945_automobile.png',
 '894_automobile.png',
 '8955_automobile.png',
 '8959_automobile.png',
 '895_automobile.png',
 '8990_automobile.png',
 '9001_automobile.png',
 '9016_automobile.png',
 '9042_automobile.png',
 '9064_automobile.png',
 '9066_automobile.png',
 '906_automobile.png',
 '9079_automobile.png',
 '9110_automobile.png',
 '9113_automobile.png',
 '9125_automobile.png',
 '9126_automobile.png',
 '9145_automobile.png',
 '915_automobile.png',
 '9162_automobile.png',
 '9169_automobile.png',
 '9178_automobile.png',
 '9179_automobile.png',
 '9185_automobile.png',
 '9197_automobile.png',
 '9211_automobile.png',
 '9223_automobile.png',
 '9227_automobile.png',
 '9229_automobile.png',
 '9232_automobile.png',
 '9245_automobile.png',
 '9265_automobile.png',
 '9298_automobile.png',
 '9323_automobile.png',
 '9339_automobile.png',
 '9340_automobile.png',
 '9345_automobile.png',
 '9351_automobile.png',
 '9352_automobile.png',
 '9368_automobile.png',
 '9373_automobile.png',
 '9387_automobile.png',
 '941_automobile.png',
 '9421_automobile.png',
 '9427_automobile.png',
 '9432_automobile.png',
 '9436_automobile.png',
 '9455_automobile.png',
 '9457_automobile.png',
 '947_automobile.png',
 '9487_automobile.png',
 '9496_automobile.png',
 '9510_automobile.png',
 '9520_automobile.png',
 '9535_automobile.png',
 '953_automobile.png',
 '9542_automobile.png',
 '9559_automobile.png',
 '9563_automobile.png',
 '9580_automobile.png',
 '9588_automobile.png',
 '9591_automobile.png',
 '9592_automobile.png',
 '9593_automobile.png',
 '9601_automobile.png',
 '9609_automobile.png',
 '9618_automobile.png',
 '961_automobile.png',
 '9626_automobile.png',
 '9629_automobile.png',
 '962_automobile.png',
 '9634_automobile.png',
 '9645_automobile.png',
 '9662_automobile.png',
 '9663_automobile.png',
 '9670_automobile.png',
 '9687_automobile.png',
 '968_automobile.png',
 '9694_automobile.png',
 '9696_automobile.png',
 '9714_automobile.png',
 '9739_automobile.png',
 '973_automobile.png',
 '9744_automobile.png',
 '9763_automobile.png',
 '9788_automobile.png',
 '978_automobile.png',
 '9794_automobile.png',
 '9797_automobile.png',
 '9800_automobile.png',
 '9803_automobile.png',
 '9807_automobile.png',
 '9808_automobile.png',
 '9811_automobile.png',
 '9813_automobile.png',
 '9816_automobile.png',
 '9824_automobile.png',
 '9830_automobile.png',
 '9843_automobile.png',
 '9865_automobile.png',
 '9866_automobile.png',
 '987_automobile.png',
 '9882_automobile.png',
 '9894_automobile.png',
 '9905_automobile.png',
 '9906_automobile.png',
 '9907_automobile.png',
 '9909_automobile.png',
 '990_automobile.png',
 '9916_automobile.png',
 '9935_automobile.png',
 '9941_automobile.png',
 '9974_automobile.png',
 '997_automobile.png',
 '9998_automobile.png']
# import matplotlib.pyplot as plt
# import cv2

# with tf.Graph().as_default() as graph: # Set default graph as graph

#            with tf.Session() as sess:
#                 # Load the graph in graph_def
#                 print("load graph")

#                 # We load the protobuf file from the disk and parse it to retrive the unserialized graph_drf
#                 with gfile.FastGFile("model/trial4/frozen_model.pb",'rb') as f:

#                                 print("Load Image...")
#                                 # Read the image & get statstics
#                                 image = scipy.misc.imread('cifar/test/0_cat.png')
#                                 image = image.astype(float)
#                                 Input_image_shape=image.shape
#                                 height,width,channels = Input_image_shape

#                                 print("Plot image...")
#                                 #scipy.misc.imshow(image)

#                                 # Set FCN graph to the default graph
#                                 graph_def = tf.GraphDef()
#                                 graph_def.ParseFromString(f.read())
#                                 sess.graph.as_default()

#                                 # Import a graph_def into the current default Graph (In this case, the weights are (typically) embedded in the graph)

#                                 tf.import_graph_def(
#                                 graph_def,
#                                 input_map=None,
#                                 return_elements=None,
#                                 name="",
#                                 op_dict=None,
#                                 producer_op_list=None
#                                 )

#                                 # Print the name of operations in the session
#                                 for op in graph.get_operations():
#                                         print "Operation Name :",op.name         # Operation name
#                                         print "Tensor Stats :",str(op.values())     # Tensor name

#                                 # INFERENCE Here
#                                 l_input = graph.get_tensor_by_name('Inputs/fifo_queue_Dequeue:0') # Input Tensor
#                                 l_output = graph.get_tensor_by_name('upscore32/conv2d_transpose:0') # Output Tensor

#                                 print "Shape of input : ", tf.shape(l_input)
#                                 #initialize_all_variables
#                                 tf.global_variables_initializer()

#                                 # Run Kitty model on single image
#                                 Session_out = sess.run( l_output, feed_dict = {l_input : image} 


def infer(im):
    checkpoint_directory = 'model/trial4/'
    checkpoint_file=tf.train.latest_checkpoint(checkpoint_directory)
    graph=tf.Graph()
    print("Load Image...")
    # Read the image & get statstics
    image = scipy.misc.imread(im)
    image = image.astype(float)
    image = np.array(image, dtype=float) / 255.0
    image = image.reshape([-1, 3, 32, 32])
    image = image.transpose([0, 2, 3, 1])
    image = image.reshape(-1, 32*32*3)
    # Input_image_shape=image.shape
    # height,width,channels = Input_image_shape

    with graph.as_default():
        session_conf = tf.ConfigProto(allow_soft_placement=True, log_device_placement =False)
        sess = tf.Session(config = session_conf)
        with sess.as_default():
            saver = tf.train.import_meta_graph("{}.meta".format(checkpoint_file))
            saver.restore(sess,checkpoint_file)
            input = graph.get_operation_by_name("main_parameters/Input").outputs[0]
            prediction=graph.get_operation_by_name("ArgMax").outputs[0]
            #newdata=put your data here
            result = sess.run(prediction,feed_dict={input:image})
            print(result[0])
            return result

def main():
    # infer('cifar/test/0_cat.png')
    # infer('cifar/test/8_cat.png')
    # infer('cifar/test/46_cat.png')
    # infer('cifar/test/68_cat.png')
    # infer('cifar/test/77_cat.png')
    # infer('cifar/test/91_cat.png')
    # infer('cifar/test/176_cat.png')
    results = []
    for f in files:
        results.append(infer('cifar/test/'+f))
        print('*'*120)
    print(results)

if __name__ == "__main__":
    main()